<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Scala 与设计模式（四）：Factory 工厂方法模式 · Prefert</title><meta name="description" content="Scala 与设计模式（四）：Factory 工厂方法模式 - Prefert"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/avator.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://prefer-tyl.site/atom.xml" title="Prefert"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/avator.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/YarenTang" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Scala 与设计模式（四）：Factory 工厂方法模式</h1><div class="post-info">Aug 13, 2017</div><div class="post-content"><p>工厂方法模式（Factory Method Pattern）是一种实现了「工厂」概念的面向对象设计模式。就像其他创建型模式一样，它也是处理在不指定对象具体类型的情况下创建对象的问题。</p>
<a id="more"></a>
<p>在很久以前，如果我们想要建造房屋，一般来说都是自己一砖一瓦搭建起来的。除了地基和房屋的整体框架，还要考虑好通风采光等一系列问题。在 Java 中可能是这样实现的：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Door</span> </span>&#123; ... &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> </span>&#123; ... &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pillar</span> </span>&#123; ... &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> Door door;</div><div class="line">    <span class="keyword">private</span> Wall wall;</div><div class="line">    <span class="keyword">private</span> Pillar pillar;</div><div class="line">    ... <span class="comment">// 省略构造函数</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"房屋建好了"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        Door door = <span class="keyword">new</span> Door();</div><div class="line">        Wall wall = <span class="keyword">new</span> Wall();</div><div class="line">        Pillar pillar = <span class="keyword">new</span> Pillar();</div><div class="line"></div><div class="line">        Building building = <span class="keyword">new</span> Building(door, wall, pillar);</div><div class="line">        building.show();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在科技发达的现在，时间就是金钱，很多工作都不是我们需要知道和完成的。</p>
<p>本文将介绍如何用「工厂方法模式」来编写代码，实现「购买商品房」这个操作。</p>
<!-- toc -->
<ul>
<li><a href="#定义">定义</a></li>
<li><a href="#java-实现">Java 实现</a></li>
<li><a href="#scala-实现">Scala 实现</a></li>
<li><a href="#总结">总结</a></li>
</ul>
<!-- tocstop -->
<p>先看看工厂方法模式是什么：</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>工厂方法模式（Factory Method Pattern）是一种实现了「工厂」概念的面向对象设计模式。就像其他创建型模式一样，它也是<strong>处理在不指定对象具体类型的情况</strong>下创建对象的问题。定义如下：</p>
<blockquote>
<p>定义一个用于创建对象的接口，让子类决定实例化哪一个类。Factory Method使一个类的实例化延迟到其子类。  — 《设计模式》 GOF</p>
</blockquote>
<p>相信聪明的你看完以上内容后，心中已有「答案」，下面让我们一起来实现它。</p>
<h2 id="java-实现"><a href="#Java-实现" class="headerlink" title="Java 实现"></a>Java 实现</h2><p>既然称作「工厂模式」，「工厂」肯定是少不了的，这里我们创造一个建筑公司实例（ConstructionFactory）：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">... <span class="comment">// 之前代码一致</span></div><div class="line"><span class="comment">// 当然也可以用 抽象类 实现</span></div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IBuilding</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span> <span class="keyword">implements</span> <span class="title">IBuilding</span> </span>&#123; ... &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IFactory</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> IBuilding <span class="title">createBuilding</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstructionFactory</span> <span class="keyword">implements</span> <span class="title">IFactory</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> IBuilding <span class="title">createBuilding</span><span class="params">()</span> </span>&#123;</div><div class="line">        Door door = <span class="keyword">new</span> Door();</div><div class="line">        Wall wall = <span class="keyword">new</span> Wall();</div><div class="line">        Pillar pillar = <span class="keyword">new</span> Pillar();</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Building(door, wall, pillar);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以这么使用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">IFactory factory = <span class="keyword">new</span> ConstructionFactory();</div><div class="line">IBuilding building = factory.createBuilding();</div><div class="line">building.show();</div></pre></td></tr></table></figure></p>
<p>如果我们需要生产其他类型的建筑，实现一个新的「工厂」实例即可。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstructionFactory</span> <span class="keyword">implements</span> <span class="title">IFactory</span> </span>&#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>从以上也可看出：<strong>工厂做的事很简单 —— 封装内部的实现细节</strong>。</p>
<p>它可以带来以下好处：</p>
<ol>
<li><strong>降低耦合度</strong>。在工厂方法模式中，工厂方法用来创建用户所需要的产品，同时还向用户隐藏了哪种具体产品类将被实例化这一细节，用户只需要关心所需产品对应的工厂，无须关心创建细节，甚至无须知道具体产品类的类名。</li>
<li><strong>良好扩展性</strong>。需要新的产品类型时，只需要新增一个工厂类，不需要更改产品以及产品的接口以及用户的使用方式。</li>
<li><strong>代码结构清晰</strong>。用户使用时不需要构造内部结构，直接调用工厂方法即可。</li>
</ol>
<p>当然缺点也是存在的：</p>
<ol>
<li>增加使用成本。使用工厂模式的时候一般都会采用接口或者抽象类，有时还会涉及到反射、DOM 等方式。</li>
<li>增加系统复杂度（影响不显著）。一个工厂类对应一个产品，所以增加产品类的时候就需要增加工厂类。</li>
</ol>
<p>接下去看看 Scala 中如何实现工厂方法模式。</p>
<h2 id="scala-实现"><a href="#Scala-实现" class="headerlink" title="Scala 实现"></a>Scala 实现</h2><p>在 Scala 中，依旧可以用类似 Java 的方式来实现，只用把 Java 中的关键字 <code>interface</code> 换成 <code>trait</code> 即可。<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Door</span> </span>&#123; <span class="function"><span class="keyword">def</span>  <span class="title">getInfo</span> </span>= println(<span class="string">"门"</span>) &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wall</span> </span>&#123; <span class="function"><span class="keyword">def</span>  <span class="title">getInfo</span> </span>= println(<span class="string">"墙"</span>) &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pillar</span> </span>&#123; <span class="function"><span class="keyword">def</span>  <span class="title">getInfo</span> </span>= println(<span class="string">"支柱"</span>) &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">trait</span> <span class="title">IBuilding</span> </span>&#123; <span class="function"><span class="keyword">def</span> <span class="title">show</span></span>() &#125;</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Building</span>(<span class="params">door: <span class="type">Door</span>, wall: <span class="type">Wall</span>, pillar: <span class="type">Pillar</span></span>) <span class="keyword">extends</span> <span class="title">IBuilding</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span> </span>= println(<span class="string">"房屋建好了"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">trait</span> <span class="title">IFactory</span> </span>&#123; <span class="function"><span class="keyword">def</span> <span class="title">createBuilding</span></span>: <span class="type">IBuilding</span> &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstructionFactory</span> <span class="keyword">extends</span> <span class="title">IFactory</span> </span>&#123;</div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">createBuilding</span> </span>= <span class="type">Building</span>(<span class="keyword">new</span> <span class="type">Door</span>, <span class="keyword">new</span> <span class="type">Wall</span>, <span class="keyword">new</span> <span class="type">Pillar</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</div><div class="line">  <span class="keyword">val</span> iFactory: <span class="type">IFactory</span> = <span class="keyword">new</span> <span class="type">ConstructionFactory</span></div><div class="line">  <span class="keyword">val</span> iBuilding: <span class="type">IBuilding</span> = iFactory.createBuilding</div><div class="line">  iBuilding.show()</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>实际上，我们的目标类可能还存在多层级的关系，比如房屋还可以细分房型：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleBuilding</span>(<span class="params">door: <span class="type">Door</span>,</span></span></div><div class="line">                          wall: <span class="type">Wall</span>,</div><div class="line">                          pillar: <span class="type">Pillar</span>) <span class="keyword">extends</span> <span class="title">IBuilding</span> &#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span> </span>= println(<span class="string">"简约户型"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">LuxuryBuilding</span>(<span class="params">door: <span class="type">Door</span>,</span></span></div><div class="line">                          wall: <span class="type">Wall</span>,</div><div class="line">                          pillar: <span class="type">Pillar</span>) <span class="keyword">extends</span> <span class="title">IBuilding</span> &#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span> </span>= println(<span class="string">"豪华户型"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这时候我们就需要告诉建筑公司我们的需求：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">trait</span> <span class="title">IFactoryS</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">createBuilding</span></span>(kind: <span class="type">String</span>): <span class="type">IBuilding</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 同时修改工厂实例</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConstructionFactoryS</span> <span class="keyword">extends</span> <span class="title">IFactoryS</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">createBuilding</span></span>(kind: <span class="type">String</span>): <span class="type">IBuilding</span> =  kind <span class="keyword">match</span> &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">"Simple"</span> =&gt;   <span class="type">SimpleBuilding</span>(<span class="keyword">new</span> <span class="type">Door</span>, <span class="keyword">new</span> <span class="type">Wall</span>, <span class="keyword">new</span> <span class="type">Pillar</span>)</div><div class="line">    <span class="keyword">case</span> <span class="string">"Luxury"</span> =&gt;   <span class="type">LuxuryBuilding</span>(<span class="keyword">new</span> <span class="type">Door</span>, <span class="keyword">new</span> <span class="type">Wall</span>, <span class="keyword">new</span> <span class="type">Pillar</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>测试<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test2</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</div><div class="line">  <span class="keyword">val</span> iFactory:<span class="type">IFactoryS</span> = <span class="keyword">new</span> <span class="type">ConstructionFactoryS</span></div><div class="line">  <span class="keyword">val</span> iBuilding1:<span class="type">IBuilding</span> = iFactory.createBuilding(<span class="string">"Simple"</span>)</div><div class="line">  <span class="keyword">val</span> iBuilding2:<span class="type">IBuilding</span> = iFactory.createBuilding(<span class="string">"Luxury"</span>)</div><div class="line">  iBuilding1.show()</div><div class="line">  iBuilding2.show()</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>除了这种方式，Scala 还为我们提供了一种类似构造器的语法 —— <code>apply</code>，通过这种方式，我们甚至可以不用写工厂类，只需增加产品类接口的伴生对象：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">object</span> <span class="title">IBuilding</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(kind: <span class="type">String</span>): <span class="type">IBuilding</span> = kind <span class="keyword">match</span> &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">"Simple"</span> =&gt;   <span class="type">SimpleBuilding</span>(<span class="keyword">new</span> <span class="type">Door</span>, <span class="keyword">new</span> <span class="type">Wall</span>, <span class="keyword">new</span> <span class="type">Pillar</span>)</div><div class="line">    <span class="keyword">case</span> <span class="string">"Luxury"</span> =&gt;   <span class="type">LuxuryBuilding</span>(<span class="keyword">new</span> <span class="type">Door</span>, <span class="keyword">new</span> <span class="type">Wall</span>, <span class="keyword">new</span> <span class="type">Pillar</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>调用者有更好的体验：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">val</span> iBuilding3:<span class="type">IBuilding</span> = <span class="type">IBuilding</span>(<span class="string">"Simple"</span>)</div><div class="line"><span class="keyword">val</span> iBuilding4:<span class="type">IBuilding</span> = <span class="type">IBuilding</span>(<span class="string">"Luxury"</span>)</div><div class="line">iBuilding3.show()</div><div class="line">iBuilding4.show()</div></pre></td></tr></table></figure></p>
<p>严格意义讲，后面这种方法并不属于 GOF 提到的工厂方法，它缺少了工厂模块，我们可以称之为「静态工厂模式」。  </p>
<p>站在 OCP（开放封闭原则）的角度讲，该模式的扩展不够良好，但是却对修改，有着很好的约束。  </p>
<p>总结「静态工厂模式」有以下优点：</p>
<ul>
<li>简化对象创建的 API</li>
<li>减少 <code>new</code> 关键字对代码的干扰</li>
<li>代码更精简优雅</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上，不难总结出工厂方法模式中的四种角色：  </p>
<ul>
<li><strong>抽象产品</strong>：它是定义产品的接口，是工厂方法模式所创建对象的超类型，也就是产品对象的公共父类。（ex. 文中 <code>IBuiiding</code>)。</li>
<li><strong>具体产品</strong>：它实现了抽象产品接口，某种类型的具体产品由专门的具体工厂创建，具体工厂和具体产品之间一一对应。（ex. 文中 <code>Buiiding</code>)</li>
<li><strong>抽象工厂</strong>: 在抽象工厂类中，声明了工厂方法(<code>Factory Method</code>)，用于返回一个产品。抽象工厂是工厂方法模式的核心，所有创建对象的工厂类都必须实现该接口。（ex. 文中 <code>IFactory</code>)</li>
<li><strong>具体工厂</strong>: 它是抽象工厂类的子类，实现了抽象工厂中定义的工厂方法，并可由客户端调用，返回一个具体产品类的实例。（ex. 文中 <code>ConstructionFactory</code>)</li>
</ul>
<p>以下为 Java 与 Scala 中的实现方式对比：</p>
<table>
<thead>
<tr>
<th></th>
<th>Java</th>
<th>Scala</th>
</tr>
</thead>
<tbody>
<tr>
<td>静态工厂方法</td>
<td>抽象产品(interface 或 abstract class) + 具体产品 + 抽象工厂（含静态方法)</td>
<td>仿 Java  或 抽象产品(trait 或 abstract class) + 具体产品(case class) + 抽象产品伴生类(object apply)</td>
</tr>
<tr>
<td>工厂方法</td>
<td>抽象产品 + 具体产品 + 抽象工厂 + 具体工厂</td>
<td>同 Java</td>
</tr>
</tbody>
</table>
<p>当然，我们不能为了设计而设计，当类结构简单的时候，我们可以直接使用 <code>new</code> 来创造，否则会增加不必要的代码，反而使结构复杂化。工厂方法主要适用以下场景 ：</p>
<ul>
<li>调用者无需知道他所使用的对象的类。  </li>
<li>抽象工厂类通过其子类来指定创建哪个对象。  </li>
</ul>
<p><a href="https://github.com/YarenTang/Design_Patterns_Examples/tree/master/src/Factory" target="_blank" rel="external">源码链接</a>  </p>
<p>如有错误和讲述不恰当的地方还请指出，不胜感激！</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/07/27/scala-design-patterns-3-prototype/" class="prev">上一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'prefer-tyl-site';
var disqus_identifier = '2017/08/13/scala-design-patterns-4-factory/';
var disqus_title = 'Scala 与设计模式（四）：Factory 工厂方法模式';
var disqus_url = 'http://prefer-tyl.site/2017/08/13/scala-design-patterns-4-factory/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//prefer-tyl-site.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 <a href="http://prefer-tyl.site">Prefert</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>